import{R as C,i as $,k as d,l as A,m as R,n as u,x as a,w as g,q as h}from"./index-Kwye6Ie_.js";function y(){const i=`${`/${C($)}`}/Context`,s=d(),[r,l]=A(R),p=u(a),m=u(g);return{register:b,getAll:k,getById:x,update:f,delete:_,resetContext:h(a),resetContexts:h(g)};function b(t){return delete t.Id,s.post(`${i}`,t)}function k(){return s.get(i).then(m)}function x(t,n,o,c){return s.get(`${i}/${t}/${n}/${o}/${c}`).then(e=>(e={theme:{id:e[0].id,themeName:e[0].themeName,books:{id:e[0].books[0].id,bookName:e[0].books[0].bookName,chapters:{id:e[0].books[0].chapters[0].id,pageChapter:e[0].books[0].chapters[0].pageChapter,pages:{id:e[0].books[0].chapters[0].pages[0].id,pageTitle:e[0].books[0].chapters[0].pages[0].pageTitle,content:{id:e[0].books[0].chapters[0].pages[0].content.id,pageContent:e[0].books[0].chapters[0].pages[0].content.pageContent}}}}}},e)).then(p)}function f(t,n,o){return s.put(`${t}/${n}`,o).then(c=>{if(n===(r==null?void 0:r.id)){const e={...r,...o};localStorage.setItem("user",JSON.stringify(e)),l(e)}return c})}function _(t){p(n=>n.map(o=>o.id===t?{...o,isDeleting:!0}:o))}}export{y as u};
