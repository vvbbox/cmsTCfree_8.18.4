import{R as C,i as x,k as I,l as U,m as y,n as u,c as a,e as l,q as f}from"./index-Kwye6Ie_.js";function S(){const o=`${`/${C(x)}`}/Configs`,r=I(),[c,g]=U(y),i=u(a),h=u(l),d=f(a),p=f(l);return{register:_,getAll:A,getById:m,update:$,delete:R,resetConfigs:d,resetConfig:p};function _(e){const{Id:t,...n}=e;return r.post(o,n)}function A(){return r.get(o).then(i)}function m(e){return r.get(`${o}/${e}`).then(t=>(h(t),t))}function $(e,t){return r.put(`${o}/${e}`,t).then(n=>{if(c&&e===c.id){const s={...c,...t};localStorage.setItem("user",JSON.stringify(s)),g(s)}return n})}function R(e){return i(t=>t.map(n=>n.id===e?{...n,isDeleting:!0}:n)),r.delete(`${o}/${e}`).then(()=>{i(t=>t.filter(n=>n.id!==e))}).catch(t=>{throw i(n=>n.map(s=>s.id===e?{...s,isDeleting:!1}:s)),t})}}export{S as u};
